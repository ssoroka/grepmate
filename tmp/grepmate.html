<html><head>  <style type="text/css">body { background-color: #EEEEEE; } pre {
  display: inline; } .ruby { font-family: Monaco; font-size: 10pt;
  background-color: white } .ruby .normal {} .ruby .comment { color:
  #005; font-style: italic; } .ruby .keyword { color: #A00; font-weight:
  bold; } .ruby .method { color: #077; } .ruby .class { color: #074; }
  .ruby .module { color: #050; } .ruby .punct { color: #447; font-weight:
  bold; } .ruby .symbol { color: #099; } .ruby .string { color: #944;
  background: #FFE; } .ruby .char { color: #F07; } .ruby .ident { color:
  #004; } .ruby .constant { color: #07F; } .ruby .regex { color: #B66;
  background: #FEF; } .ruby .number { color: #F99; } .ruby .attribute {
  color: #7BB; } .ruby .global { color: #7FB; } .ruby .expr { color:
  #227; } .ruby .escape { color: #277; } .ruby .highlight {
  background-color: yellow; font-weight: 900; } td.lineno { text-align:
  right; font-family: Monaco; font-size: 9pt; padding-right: 10px; }
  td.filename { padding-top: 35px; font-family: Monaco; font-size: 14pt;
  }</style>

  <script type="text/javascript">
  // http://www.nsftools.com/misc/SearchAndHighlight.htm

  function doHighlight(bodyText,searchTerm,highlightStartTag,highlightEndTag)
  {if((!highlightStartTag)||(!highlightEndTag)){highlightStartTag="<font style='color:blue; background-color:yellow;'>";highlightEndTag="</font>";}
  var newText="";var i=-1;var lcSearchTerm=searchTerm.toLowerCase();var lcBodyText=bodyText.toLowerCase();while(bodyText.length>0){i=lcBodyText.indexOf(lcSearchTerm,i+1);if(i<0){newText+=bodyText;bodyText="";}else{if(bodyText.lastIndexOf(">",i)>=bodyText.lastIndexOf("<",i)){if(lcBodyText.lastIndexOf("/script>",i)>=lcBodyText.lastIndexOf("<script",i)){newText+=bodyText.substring(0,i)+highlightStartTag+bodyText.substr(i,searchTerm.length)+highlightEndTag;bodyText=bodyText.substr(i+searchTerm.length);lcBodyText=bodyText.toLowerCase();i=-1;}}}}
  return newText;}
  function highlightSearchTerms(searchText,treatAsPhrase,warnOnFailure,highlightStartTag,highlightEndTag)
  {if(treatAsPhrase){searchArray=[searchText];}else{searchArray=searchText.split(" ");}
  if(!document.body||typeof(document.body.innerHTML)=="undefined"){if(warnOnFailure){alert("Sorry, for some reason the text of this page is unavailable. Searching will not work.");}
  return false;}
  var bodyText=document.body.innerHTML;for(var i=0;i<searchArray.length;i++){bodyText=doHighlight(bodyText,searchArray[i],highlightStartTag,highlightEndTag);}
  document.body.innerHTML=bodyText;return true;}</script></script>
</head><body onLoad="highlightSearchTerms('Steven Soroka', false)"><table cellspacing="0" cellpadding="2"><tr><td colspan="2" class="filename"><a href="file://spec">spec</a>/<a href="txmt://open?url=file://spec/grepmate_spec.rb">grepmate_spec.rb</a></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=19">19</a></td><td class="ruby"><pre>    <span class="keyword">end</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=20">20</a></td><td class="ruby"><pre> </pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=21">21</a></td><td class="ruby"><pre>    <span class="ident">it</span> <span class="punct">&quot;</span><span class="string">should behave when piped STDIN files</span><span class="punct">&quot;</span> <span class="keyword">do</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=22">22</a></td><td class="ruby"><pre>      `<span class="ident">echo</span> <span class="constant">LICENSE</span> <span class="punct">|</span> <span class="ident">bin</span><span class="punct">/</span><span class="ident">grepmate</span> <span class="punct">-</span><span class="ident">c</span> <span class="punct">&quot;</span><span class="string">Steven Soroka</span><span class="punct">&quot;`.</span><span class="ident">chomp</span><span class="punct">.</span><span class="ident">should</span> <span class="punct">==</span> <span class="punct">'</span><span class="string">Matches: 1</span><span class="punct">'</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=23">23</a></td><td class="ruby"><pre>    <span class="keyword">end</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=24">24</a></td><td class="ruby"><pre>    <span class="comment">#</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=25">25</a></td><td class="ruby"><pre>    <span class="comment"># it &quot;should search gems&quot; do</span></pre></td></tr>
<tr><td class="lineno">...</td><td></td></tr><tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=33">33</a></td><td class="ruby"><pre>    <span class="comment"># end</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=34">34</a></td><td class="ruby"><pre> </pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=35">35</a></td><td class="ruby"><pre>    <span class="ident">it</span> <span class="punct">&quot;</span><span class="string">should support regular expressions</span><span class="punct">&quot;</span> <span class="keyword">do</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=36">36</a></td><td class="ruby"><pre>      <span class="comment"># from LICENSE: this will match:  Steven Soroka</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=37">37</a></td><td class="ruby"><pre>      `<span class="ident">echo</span> <span class="constant">LICENSE</span> <span class="punct">|</span> <span class="ident">bin</span><span class="punct">/</span><span class="ident">grepmate</span> <span class="punct">-</span><span class="ident">c</span> <span class="punct">-</span><span class="ident">e</span> <span class="punct">&quot;</span><span class="string">even .oro.a</span><span class="punct">&quot;`.</span><span class="ident">chomp</span><span class="punct">.</span><span class="ident">should</span> <span class="punct">==</span> <span class="punct">'</span><span class="string">Matches: 1</span><span class="punct">'</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=38">38</a></td><td class="ruby"><pre>    <span class="keyword">end</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=39">39</a></td><td class="ruby"><pre> </pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=40">40</a></td><td class="ruby"><pre>    <span class="ident">describe</span> <span class="punct">'</span><span class="string">output</span><span class="punct">'</span> <span class="keyword">do</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=41">41</a></td><td class="ruby"><pre>      <span class="ident">it</span> <span class="punct">&quot;</span><span class="string">should output text</span><span class="punct">&quot;</span> <span class="keyword">do</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=42">42</a></td><td class="ruby"><pre>        <span class="ident">result</span> <span class="punct">=</span> `<span class="ident">bin</span><span class="punct">/</span><span class="ident">grepmate</span> <span class="punct">--</span><span class="ident">text</span> <span class="punct">'</span><span class="string">Steven Soroka</span><span class="punct">'`</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=43">43</a></td><td class="ruby"><pre>        <span class="comment"># spec/grepmate_spec.rb:22:      `echo LICENSE | bin/grepmate -c &quot;Steven Soroka&quot;`.chomp.should == 'Matches: 1'</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=44">44</a></td><td class="ruby"><pre>        <span class="comment"># spec/grepmate_spec.rb:36:      # from LICENSE: this will match:  Steven Soroka</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=45">45</a></td><td class="ruby"><pre>        <span class="comment"># spec/grepmate_spec.rb:42:        puts `bin/grepmate --text 'Steven Soroka'`</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=46">46</a></td><td class="ruby"><pre>        <span class="comment"># spec/grepmate_spec.rb:46:        # `bin/grepmate --html 'Steven Soroka'`</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=47">47</a></td><td class="ruby"><pre>        <span class="comment"># spec/grepmate_spec.rb:61:        params.(blah blah blah blah blah blah blah blah blah blah)s =&gt; [&quot;Steven Soroka&quot;]))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=48">48</a></td><td class="ruby"><pre>        <span class="ident">result</span><span class="punct">.</span><span class="ident">should</span> <span class="punct">=~</span> <span class="punct">/</span><span class="regex">grepmate_spec</span><span class="punct">/</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=49">49</a></td><td class="ruby"><pre>      <span class="keyword">end</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=50">50</a></td><td class="ruby"><pre> </pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=51">51</a></td><td class="ruby"><pre>      <span class="ident">it</span> <span class="punct">&quot;</span><span class="string">should output html</span><span class="punct">&quot;</span> <span class="keyword">do</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=52">52</a></td><td class="ruby"><pre>        <span class="comment"># `bin/grepmate --html 'Steven Soroka'`</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=53">53</a></td><td class="ruby"><pre>        <span class="ident">params</span> <span class="punct">=</span> <span class="ident">mock</span><span class="punct">(</span><span class="symbol">:params</span><span class="punct">)</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=54">54</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">html</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:html</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">true</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=55">55</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">text</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:text</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">false</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno">...</td><td></td></tr><tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=64">64</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">case</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:case</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">nil</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=65">65</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">count</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:count</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">nil</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=66">66</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">verbose</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:verbose</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">nil</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=67">67</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">what_to_search_for</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:what_to_search_for</span><span class="punct">,</span> <span class="symbol">:values</span> <span class="punct">=&gt;</span> <span class="punct">[&quot;</span><span class="string">Steven Soroka</span><span class="punct">&quot;]))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=68">68</a></td><td class="ruby"><pre> </pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=69">69</a></td><td class="ruby"><pre>        <span class="ident">grepmate</span> <span class="punct">=</span> <span class="constant">Grepmate</span><span class="punct">.</span><span class="ident">new</span><span class="punct">(</span><span class="ident">params</span><span class="punct">)</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=70">70</a></td><td class="ruby"><pre>        <span class="comment"># hijack the output class so that it doesn't send the system() call.</span></pre></td></tr>
<tr><td class="lineno">...</td><td></td></tr><tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=78">78</a></td><td class="ruby"><pre>      <span class="keyword">end</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=79">79</a></td><td class="ruby"><pre> </pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=80">80</a></td><td class="ruby"><pre>      <span class="ident">it</span> <span class="punct">&quot;</span><span class="string">should output textmate commands</span><span class="punct">&quot;</span> <span class="keyword">do</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=81">81</a></td><td class="ruby"><pre>        <span class="comment"># `bin/grepmate --textmate 'Steven Soroka'`</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=82">82</a></td><td class="ruby"><pre>        <span class="ident">params</span> <span class="punct">=</span> <span class="ident">mock</span><span class="punct">(</span><span class="symbol">:params</span><span class="punct">)</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=83">83</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">html</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:html</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">false</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=84">84</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">text</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:text</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">false</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno">...</td><td></td></tr><tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=94">94</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">count</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:count</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">nil</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=95">95</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">verbose</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:verbose</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">nil</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=96">96</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">wait</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:wait</span><span class="punct">,</span> <span class="symbol">:value</span> <span class="punct">=&gt;</span> <span class="constant">true</span><span class="punct">))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=97">97</a></td><td class="ruby"><pre>        <span class="ident">params</span><span class="punct">.</span><span class="ident">should_receive</span><span class="punct">(:[]).</span><span class="ident">with</span><span class="punct">('</span><span class="string">what_to_search_for</span><span class="punct">').</span><span class="ident">any_number_of_times</span><span class="punct">.</span><span class="ident">and_return</span><span class="punct">(</span><span class="ident">mock</span><span class="punct">(</span><span class="symbol">:what_to_search_for</span><span class="punct">,</span> <span class="symbol">:values</span> <span class="punct">=&gt;</span> <span class="punct">[&quot;</span><span class="string">Steven Soroka</span><span class="punct">&quot;]))</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=98">98</a></td><td class="ruby"><pre> </pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=99">99</a></td><td class="ruby"><pre>        <span class="ident">grepmate</span> <span class="punct">=</span> <span class="constant">Grepmate</span><span class="punct">.</span><span class="ident">new</span><span class="punct">(</span><span class="ident">params</span><span class="punct">)</span></pre></td></tr>
<tr><td class="lineno"><a href="txmt://open?url=file://spec/grepmate_spec.rb&line=100">100</a></td><td class="ruby"><pre>        <span class="comment"># hijack the output class so that it doesn't send the system() call.</span></pre></td></tr>
</table></body></html>